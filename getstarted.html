---
layout: default
---
<div class="col-md-3" id="leftCol">

    <div class="well">
        <ul class="nav nav-stacked" id="sidebar">
            <li><a href="#github-sec">Clone GitHub</a></li>
            <li><a href="#maven-sec">Maven Dependencies</a></li>
            <li><a href="#config-sec">Application Config</a></li>
            <li><a href="#server-sec">Server Settings</a></li>
            <li><a href="#route-sec">Route Definition</a></li>
        </ul>
    </div>

    {% include github.html %}
</div>
<div class="col-md-9">
    <h3 id="github-sec">GitHub Sources</h3>
    A source code of the framework is able to clone from GitHub: <a href="http://www.github.com/petrbouda/joyrest">http://www.github.com/petrbouda/joyrest</a>

    <hr class="col-md-12">

    <h3 id="maven-sec">Maven Dependency</h3>
    JoyRest Releases are available on Maven Central Repository
    <h4>Core</h4>
<pre><code class="language-markup">
&lt;dependency&gt;
    &lt;groupId&gt;org.joyrest&lt;/groupId&gt;
    &lt;artifactId&gt;joyrest-core&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

            <h4>Dependency Injection Integration</h4>
<pre><code class="language-markup">
&lt;dependency&gt;
    &lt;groupId&gt;org.joyrest&lt;/groupId&gt;
    &lt;artifactId&gt;joyrest-hk2&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

            <h4>Server Integration</h4>
<pre><code class="language-markup">
&lt;dependency&gt;
    &lt;groupId&gt;org.joyrest&lt;/groupId&gt;
    &lt;artifactId&gt;joyrest-servlet&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<pre><code class="language-markup">
&lt;dependency&gt;
    &lt;groupId&gt;org.joyrest&lt;/groupId&gt;
    &lt;artifactId&gt;joyrest-grizzly&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

            <h4>Repository for Releases and Snapshots</h4>
<pre><code class="language-markup">
&lt;repository&gt;
    &lt;id&gt;oss-sonatype&lt;/id&gt;
    &lt;url&gt;https://oss.sonatype.org/content/groups/public&lt;/url&gt;
&lt;/repository&gt;
</code></pre>
            <hr class="col-md-12">

            <h3 id="config-sec">Application Config</h3>
<pre><code class="language-java">
import org.glassfish.hk2.api.TypeLiteral;
import org.glassfish.hk2.utilities.binding.AbstractBinder;
import org.joyrest.routing.ControllerConfiguration;
import javax.inject.Singleton;

public class ApplicationBinder extends AbstractBinder {

    @Override
    protected void configure() {
        bind(JokeServiceImpl.class)
            .to(new TypeLiteral&lt;JokeService&gt;() { })
            .in(Singleton.class);

        bind(JokeController.class)
            .to(ControllerConfiguration.class)
            .in(Singleton.class);
    }
}
</code></pre>
            <hr class="col-md-12">

            <h3 id="server-sec">Server Settings</h3>
<pre><code class="language-java">
import org.joyrest.context.ApplicationContext;
import org.joyrest.context.Configurer;
import org.joyrest.grizzly.GrizzlyServer;
import org.joyrest.hk2.HK2Configurer;

public class Start {

    public static void main(String... args) throws Exception {
        Configurer configurer = new HK2Configurer();
        ApplicationContext applicationContext = configurer.initialize(new ApplicationBinder());
        GrizzlyServer.start(applicationContext, "/services", 5000);
    }
}
</code></pre>

            <hr class="col-md-12">

            <h3 id="route-sec">Route Definition</h3>
<pre><code class="language-java">
import org.joyrest.model.http.HeaderName;
import org.joyrest.model.http.HttpStatus;
import org.joyrest.model.http.MediaType;
import org.joyrest.model.request.Request;
import org.joyrest.model.response.Response;
import org.joyrest.routing.AbstractControllerConfiguration;
import javax.inject.Inject;
import java.util.List;

public class JokeController extends AbstractControllerConfiguration {

    @Inject
    private JokeService service;

    @Override
    protected void configure() {
        setGlobalPath("jokes");

        post((Request request, Response response, Joke joke) -> {
            Joke savedJoke = service.save(joke);
                response.entity(savedJoke)
                .status(HttpStatus.CREATED)
                .header(HeaderName.LOCATION, getEntityLocation(savedJoke.getId(), request.getPath()));
        }).consumes(MediaType.JSON).produces(MediaType.JSON);

        get((request, response) -> {
            List&lt;Joke&gt; jokes = service.getAll();
            response.entity(jokes);
        }).produces(MediaType.JSON, MediaType.XML);

        get(":id", (request, response) -> {
            Joke joke = service.get(request.getPathParam("id"));
            response.entity(joke);
        }).produces(MediaType.JSON, MediaType.XML);
    }

    private String getEntityLocation(String entityId, String path) {
        return path + "/" + entityId;
    }
}</code></pre>

    <hr>
</div>